<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Setting up email for cron job results is more complicated than using Slack. And is dangerous when users become accustomed to lots of cron job spam and ignore errors. Rather make two Slack channels:  a">
<meta property="og:type" content="article">
<meta property="og:title" content="How to post cron job results or any other script to Slack">
<meta property="og:url" content="https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/index.html">
<meta property="og:site_name" content="Richard JE Cooke">
<meta property="og:description" content="Setting up email for cron job results is more complicated than using Slack. And is dangerous when users become accustomed to lots of cron job spam and ignore errors. Rather make two Slack channels:  a">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2017-01-05T10:16:42.000Z">
<meta property="article:modified_time" content="2022-05-27T17:09:22.310Z">
<meta property="article:author" content="Richard JE Cooke">
<meta property="article:tag" content="cron">
<meta property="article:tag" content="devops">
<meta property="article:tag" content="slack">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>How to post cron job results or any other script to Slack</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Richard JE Cooke" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">home</a></li><!--
     --><!--
       --><li><a href="/archives/">articles</a></li><!--
     --><!--
       --><li><a href="/music">music</a></li><!--
     --><!--
       --><li><a href="/apps">apps</a></li><!--
     --><!--
       --><li><a href="/cv">cv</a></li><!--
     --><!--
       --><li><a href="/atom.xml">rss feed</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/en/2017/how-to-run-your-tests-against-an-in-memory-database-with-a-rails-rspec-mysql-example/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/en/2017/how-to-use-docker-to-experiment-on-an-existing-wordpress-site/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&text=How to post cron job results or any other script to Slack"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&is_video=false&description=How to post cron job results or any other script to Slack"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=How to post cron job results or any other script to Slack&body=Check out this article: https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&name=How to post cron job results or any other script to Slack&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&t=How to post cron job results or any other script to Slack"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        How to post cron job results or any other script to Slack
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Richard JE Cooke</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2017-01-05T10:16:42.000Z" itemprop="datePublished">2017-01-05</time>
        
      
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/cron/" rel="tag">cron</a>, <a class="tag-link-link" href="/tags/devops/" rel="tag">devops</a>, <a class="tag-link-link" href="/tags/slack/" rel="tag">slack</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Setting up email for cron job results is more complicated than using Slack. And is dangerous when users become accustomed to lots of cron job spam and ignore errors. Rather make two Slack channels:</p>
<ul>
<li>automated_task_logs</li>
<li>automated_task_errors</li>
</ul>
<p>Spam (successes) goes to logs, only errors go the errors channel. In a channel in Slack go to <code>channel settings - add an app or integration - Build - add something just for my team - add a incoming webhook</code>. Youâ€™ll now have a secret url you can add to the end of your cron bash scripts that will post to Slack like so:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> +e <span class="comment">#ignore errors and continue</span></span><br><span class="line"><span class="built_in">set</span> +x <span class="comment">#echo off</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  make\_temp\_file &amp;&amp;</span><br><span class="line">  backup_database &amp;&amp;  </span><br><span class="line">  curl -X POST --data-urlencode <span class="string">&#x27;payload=&#123;&quot;channel&quot;: &quot;#automated\_task\_logs&quot;, &quot;username&quot;: &quot;SSL\_bot&quot;, &quot;text&quot;: &quot;SSL certificate upgraded successfully&quot;, &quot;icon\_emoji&quot;: &quot;:scroll:&quot;&#125;&#x27;</span> https://hooks.slack.com/services/A02TFF7EE/HK63KNHCM/ABat54LXcG6JPIaUlCW15kjLA</span><br><span class="line">&#125; || &#123;</span><br><span class="line">  curl -X POST --data-urlencode <span class="string">&#x27;payload=&#123;&quot;channel&quot;: &quot;#automated\_task\_errors&quot;, &quot;username&quot;: &quot;SSL\_bot&quot;, &quot;text&quot;: &quot;SSL certificate upgrade failed&quot;, &quot;icon\_emoji&quot;: &quot;:scroll:&quot;&#125;&#x27;</span> https://hooks.slack.com/services/A02TFF7EE/HK63KNHCM/ABat54LXcG6JPIaUlCW15kjLA</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br/>
![Slackbot](Untitled-1.png)

<p>Change the username, emoji, and channel name to match what each of your jobs does.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">home</a></li>
         
          <li><a href="/archives/">articles</a></li>
         
          <li><a href="/music">music</a></li>
         
          <li><a href="/apps">apps</a></li>
         
          <li><a href="/cv">cv</a></li>
         
          <li><a href="/atom.xml">rss feed</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&text=How to post cron job results or any other script to Slack"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&is_video=false&description=How to post cron job results or any other script to Slack"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=How to post cron job results or any other script to Slack&body=Check out this article: https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&title=How to post cron job results or any other script to Slack"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&name=How to post cron job results or any other script to Slack&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://richardcooke.info/en/2017/how-to-post-cron-job-results-or-any-other-script-to-slack/&t=How to post cron job results or any other script to Slack"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2022 Richard JE Cooke
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">home</a></li><!--
     --><!--
       --><li><a href="/archives/">articles</a></li><!--
     --><!--
       --><li><a href="/music">music</a></li><!--
     --><!--
       --><li><a href="/apps">apps</a></li><!--
     --><!--
       --><li><a href="/cv">cv</a></li><!--
     --><!--
       --><li><a href="/atom.xml">rss feed</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-56673091-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-56673091-1');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
